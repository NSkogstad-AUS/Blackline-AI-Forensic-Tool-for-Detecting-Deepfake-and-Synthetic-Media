.upload-card {
  /* Make the card use more horizontal space while staying centered */
  width: 100%;
  max-width: 1180px; /* increased from fixed 720px */
  border-radius: 14px;
  box-shadow: 0 10px 32px rgba(20,20,30,0.08);
  background: #ffffff;
  margin: 40px auto; /* slightly tighter vertical margin */
  transition: max-width .25s ease;
}

@media (min-width: 1400px) {
  .upload-card { max-width: 1380px; }
}

@media (max-width: 860px) {
  .upload-card { margin: 24px auto; border-radius: 10px; }
  .upload-drop { padding: 32px 28px; }
}

.upload-drop {
  padding: 44px; /* more breathing room */
  border-radius: 10px;
  text-align: center;
  border: 1px dashed rgba(0,0,0,0.06);
}

/* Header with actions aligned right */
.upload-header { display: flex; align-items: flex-start; justify-content: space-between; gap: 32px; flex-wrap: wrap; text-align: left; }
.upload-header-text { flex: 1 1 auto; min-width: 260px; }
.upload-header-actions { display: flex; gap: 10px; flex-wrap: wrap; }
.upload-header h3 { margin-top: 0; }
.empty-hint { margin-top: 28px; font-size: 14px; color: #6b7280; text-align: left; background: #f9fafb; padding: 18px 20px; border:1px solid #e5e7eb; border-radius: 8px; }

.upload-card.drag-over .upload-drop {
  background: rgba(60,140,255,0.03);
  border-color: rgba(60,140,255,0.3);
}

.upload-drop h3 {
  margin: 0 0 10px 0;
  font-size: 24px; /* larger heading */
  font-weight: 700;
}

.upload-drop .muted {
  color: #6b7280;
  font-size: 14px;
  margin-bottom: 16px;
}

.btn {
  background: #f3f4f6;
  border: 1px solid #e5e7eb;
  padding: 12px 18px; /* larger click target */
  border-radius: 8px;
  cursor: pointer;
  font-weight: 600;
  transition: background .12s ease, border-color .12s ease, color .12s ease, box-shadow .12s ease, filter .12s ease;
}

.btn.primary { background: var(--accent); color: var(--accent-foreground); border: none; }

.btn.ghost { background: var(--accent-50); border: 1px solid var(--accent-100); color: #111827; }
.btn.ghost:hover { background: var(--accent-100); border-color: var(--accent-200); }
.btn.ghost:active { background: var(--accent-200); border-color: var(--accent-300); filter: none; }
.btn:focus-visible { outline: none; box-shadow: 0 0 0 3px var(--focus-ring); }
.btn:disabled { opacity: .6; cursor: not-allowed; }

.accept-text {
  margin-top: 12px;
  font-size: 13px;
  color: #9ca3af;
}

input.upload-hidden {
  display: none;
}

.label-hidden {
  position: absolute !important;
  left: -9999px !important;
  width: 1px !important;
  height: 1px !important;
  overflow: hidden !important;
}

.upload-preview {
  display: flex;
  gap: 12px;
  align-items: center;
}

.upload-preview img {
  width: 200px; /* larger preview */
  height: 200px;
  object-fit: cover;
  border-radius: 8px;
  border: 1px solid #eef2f7;
}

.file-meta {
  flex: 1;
  text-align: left;
}

.file-name {
  font-weight: 600;
  margin-bottom: 8px;
}

.file-actions {
  display: flex;
  gap: 8px;
}
.file-actions.with-status { flex-wrap: wrap; align-items: center; }
.status-badge { display:inline-flex; align-items:center; gap:6px; background:#ecfdf5; color:#065f46; border:1px solid #a7f3d0; padding:6px 10px; border-radius:20px; font-size:12px; font-weight:600; }
.status-badge.push-right { margin-left:auto; }
.status-badge .dot { width:8px; height:8px; background:#10b981; border-radius:50%; display:inline-block; }
.details-toggle { font-size:12px; padding:8px 12px; }
.progress-details { margin-top:12px; background:#f5f6fa; border:1px solid #e5e7eb; border-radius:10px; padding:12px 16px; }
.progress-steps.compact .step { padding:8px 0; }
.progress-steps.compact .step.done { background:transparent; padding:8px 0; }
.progress-steps.compact .divider { margin:6px 0; }

/* Multi-file list and item rows */
.items-list { margin-top: 24px; display: flex; flex-direction: column; gap: 16px; text-align: left; }
.items-scroll { max-height: min(60vh, 640px); overflow-y: auto; padding-right: 4px; display: flex; flex-direction: column; gap: 16px; }
.items-scroll::-webkit-scrollbar { width: 10px; }
.items-scroll::-webkit-scrollbar-track { background: transparent; }
.items-scroll::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 6px; }
.items-scroll::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
.item-row { display: flex; gap: 12px; align-items: flex-start; padding: 12px; border: 1px solid #eef0f6; border-radius: 10px; background: #fff; }
.thumb { width: 80px; height: 80px; border-radius: 8px; object-fit: cover; border: 1px solid #eef2f7; background: #f9fafb; display: inline-flex; align-items: center; justify-content: center; }
.thumb.placeholder { border-style:dashed; position:relative; }
/* Paper sheet */
/* Centered, slightly smaller sheet (was 40x52 at 10/12) */
.thumb.placeholder::before { content:""; position:absolute; top:16px; left:22px; width:36px; height:48px; background:#ffffff; border:1px solid #d1d5db; border-radius:6px 6px 4px 4px; box-shadow:0 2px 4px rgba(0,0,0,0.05); }
/* Folded corner */
/* Adjust folded corner to new sheet position */
.thumb.placeholder::after { content:""; position:absolute; top:16px; left:46px; width:12px; height:12px; background:linear-gradient(135deg,#f3f4f6 0%,#e5e7eb 100%); border:1px solid #d1d5db; border-left:none; border-bottom:none; border-radius:0 6px 0 4px; box-shadow:0 2px 3px rgba(0,0,0,0.04); }
/* Faux text lines */
/* Lines repositioned inside centered sheet */
.thumb.placeholder .lines { position:absolute; top:30px; left:28px; width:24px; height:20px; background:repeating-linear-gradient(#e5e7eb 0 2px, transparent 2px 6px); opacity:.9; }
.item-main { flex: 1 1 auto; }

/* Step-style progress indicator */
.progress-steps { margin-top: 10px; }
.step { display: flex; gap: 10px; align-items: flex-start; padding: 10px 0; }
.step .icon { width: 18px; height: 18px; display: inline-flex; align-items: center; justify-content: center; margin-top: 2px; position: relative; }
.step .icon.check::before { content: ""; width: 18px; height: 18px; border-radius: 50%; background: #10b981; display: block; }
.step .icon.check::after { content: ""; position: absolute; width: 8px; height: 4px; border-left: 2px solid #ffffff; border-bottom: 2px solid #ffffff; transform: rotate(-45deg); top: 6px; left: 5px; }
.step .icon.alert::before { content: ""; width: 18px; height: 18px; border-radius: 50%; border: 2px solid #ef4444; display: block; }
.step .icon.pending::before { content: ""; width: 18px; height: 18px; border-radius: 50%; border: 2px solid #cbd5e1; display: block; background: #eef2f7; }
.step .step-text .title { font-weight: 700; color: #111827; }
.step .step-text .desc { color: #6b7280; font-size: 13px; }
.step.done { background: #f5f6fa; border-radius: 6px; padding: 12px; }
.step.alert .title { color: #b91c1c; }
.step.alert .desc { color: #b91c1c; }
.step.muted .title { color: #065f46; }
.divider { height: 4px; background: #e5e7eb; border-radius: 2px; margin: 8px 0; }
.divider.active { background: var(--accent); }
.bar { width: 100%; height: 6px; background: #e5e7eb; border-radius: 999px; overflow: hidden; margin-top: 8px; }
.bar-fill { height: 100%; background: var(--accent); width: 0; transition: width .25s ease; }

/* Width classes for progress (avoid inline styles) */
.progress-p0  .bar-fill { width: 0%; }
.progress-p5  .bar-fill { width: 5%; }
.progress-p10 .bar-fill { width: 10%; }
.progress-p15 .bar-fill { width: 15%; }
.progress-p20 .bar-fill { width: 20%; }
.progress-p25 .bar-fill { width: 25%; }
.progress-p30 .bar-fill { width: 30%; }
.progress-p35 .bar-fill { width: 35%; }
.progress-p40 .bar-fill { width: 40%; }
.progress-p45 .bar-fill { width: 45%; }
.progress-p50 .bar-fill { width: 50%; }
.progress-p55 .bar-fill { width: 55%; }
.progress-p60 .bar-fill { width: 60%; }
.progress-p65 .bar-fill { width: 65%; }
.progress-p70 .bar-fill { width: 70%; }
.progress-p75 .bar-fill { width: 75%; }
.progress-p80 .bar-fill { width: 80%; }
.progress-p85 .bar-fill { width: 85%; }
.progress-p90 .bar-fill { width: 90%; }
.progress-p95 .bar-fill { width: 95%; }
.progress-p100 .bar-fill { width: 100%; }

.result-box {
  text-align: left;
  margin-top: 24px;
  padding: 16px 18px;
  background: #f9fafb;
  border: 1px solid #e5e7eb;
  border-radius: 8px;
  font-size: 14px;
}
.result-box-spaced { margin-top: 12px; }
.result-box h4 { margin: 0 0 8px 0; }
.result-box ul { margin: 0 0 8px 16px; padding: 0; }
.result-box summary { cursor: pointer; font-weight: 600; }
.result-box pre { background:#fff; border:1px solid #e5e7eb; padding:8px; border-radius:6px; max-height:240px; overflow:auto; }

.overlay-img-wrap { margin-top: 8px; }
.overlay-img { max-width: 100%; border-radius: 8px; border: 1px solid #e5e7eb; }

.error-box {
  margin-top: 16px;
  padding: 12px 14px;
  background: #fee2e2;
  border: 1px solid #fca5a5;
  color: #991b1b;
  border-radius: 6px;
  font-size: 14px;
  text-align: left;
}

/* Dark mode */
:root.dark .upload-card { background: var(--panel); box-shadow: 0 10px 28px rgba(0,0,0,0.5); }
:root.dark .upload-drop { border-color: rgba(255,255,255,0.12); }
:root.dark .upload-drop h3 { color: var(--text); }
:root.dark .upload-drop .muted { color: var(--muted); }
:root.dark .btn { background: #1f2937; color: var(--text); border-color: var(--border); }
:root.dark .btn.primary { background: var(--accent); color: var(--accent-foreground); border: none; }
:root.dark .btn.ghost { background: transparent; color: var(--text); }
:root.dark .accept-text { color: var(--muted); }
:root.dark .upload-preview img { border-color: var(--border); }
:root.dark .result-box { background: #0f172a; border-color: var(--border); color: var(--text); }
:root.dark .result-box pre { background:#111827; border-color: var(--border); color: var(--text); }
:root.dark .item-row { background: #0f172a; border-color: var(--border); }
:root.dark .thumb { background:#1e293b; border-color: var(--border); }
:root.dark .thumb.placeholder { color: #64748b; }
:root.dark .items-scroll::-webkit-scrollbar-thumb { background: #334155; }
:root.dark .items-scroll::-webkit-scrollbar-thumb:hover { background: #475569; }
:root.dark .empty-hint { background:#0f172a; border-color: var(--border); color: var(--muted); }
:root.dark .step .step-text .title { color: var(--text); }
:root.dark .step .step-text .desc { color: var(--muted); }
:root.dark .step.done { background:#1e293b; }
:root.dark .divider { background:#1e293b; }
:root.dark .divider.active { background: var(--accent); }
:root.dark .bar { background:#1e293b; }
:root.dark .error-box { background:#43121b; border-color:#7f1d1d; color:#fecaca; }
:root.dark .status-badge { background:#064e3b; border-color:#047857; color:#d1fae5; }
:root.dark .progress-details { background:#1e293b; border-color: var(--border); }
:root.dark .upload-header-actions .btn { background:#1f2937; }
:root.dark .upload-header-actions .btn.primary { background: var(--accent); color: var(--accent-foreground); }

/* Undo toast */
.toast { position: fixed; left: 50%; bottom: 24px; transform: translateX(-50%); background:#111827; color:#f9fafb; border:1px solid #1f2937; padding:10px 14px; border-radius:999px; display:flex; gap:14px; align-items:center; box-shadow:0 8px 28px rgba(0,0,0,0.25); z-index: 60; font-size:14px; }
.toast .btn.link { background: transparent; border: none; color: #93c5fd; padding: 6px 10px; border-radius: 8px; }
.toast .btn.link:hover { text-decoration: underline; filter: none; }
:root.dark .toast { background:#0b1220; border-color:#1f2a44; color:#e5e7eb; }
